"id","question","gold_sql"
"1","Show all defects","SELECT * FROM defects;"
"2","List all products","SELECT * FROM products;"
"3","Show all inspection methods","SELECT * FROM inspection_methods;"
"4","Find all defects with severity 'major'","SELECT * FROM defects WHERE severity = 'major';"
"5","Find defects with repair cost greater than 1000","SELECT * FROM defects WHERE repair_cost > 1000;"
"6","Show defects by severity, location and method","SELECT defect_id, severity, defect_location, inspection_method FROM defects;"
"7","Count defects by severity","SELECT severity, COUNT(*) FROM defects GROUP BY severity;"
"8","Get average repair cost per severity","SELECT severity, AVG(repair_cost) FROM defects GROUP BY severity;"
"9","Find defects for product P001","SELECT * FROM defects WHERE product_id = 'P001';"
"10","Get top 5 most expensive defects","SELECT * FROM defects ORDER BY repair_cost DESC LIMIT 5;"
"11","Find defects reported after 2024-01-01","SELECT * FROM defects WHERE defect_date > '2024-01-01';"
"12","List all products with at least one defect","SELECT DISTINCT p.product_id FROM products p JOIN defects d ON p.product_id = d.product_id;"
"13","Find total repair cost for each product","SELECT p.product_id, SUM(d.repair_cost) AS total_cost FROM products p JOIN defects d ON p.product_id = d.product_id GROUP BY p.product_id;"
"14","Find defects along with inspection method details","SELECT d.defect_id, d.defect_type, i.inspection_method, i.default_location FROM defects d JOIN inspection_methods i ON d.inspection_method = i.inspection_method;"
"15","Find defects with severity 'minor' for product P002","SELECT * FROM defects WHERE product_id = 'P002' AND severity = 'minor';"
"16","Count number of defects for each inspection method","SELECT inspection_method, COUNT(*) FROM defects GROUP BY inspection_method;"
"17","Show average repair cost per product","SELECT product_id, AVG(repair_cost) FROM defects GROUP BY product_id;"
"18","Find all products with total repair cost greater than 5000","SELECT product_id, SUM(repair_cost) AS total FROM defects GROUP BY product_id HAVING total > 5000;"
"19","Show the defect types reported in Assembly A","SELECT DISTINCT defect_type FROM defects WHERE defect_location = 'Assembly A';"
"20","Find defects with missing severity","SELECT * FROM defects WHERE severity IS NULL OR severity = 'Unknown';"
"21","Find the product with the maximum repair cost defect","SELECT product_id FROM defects ORDER BY repair_cost DESC LIMIT 1;"
"22","Show inspection methods used for defects of severity 'critical'","SELECT DISTINCT inspection_method FROM defects WHERE severity = 'critical';"
"23","Get defect counts grouped by product and severity","SELECT product_id, severity, COUNT(*) FROM defects GROUP BY product_id, severity;"
"24","Find products that never had a defect","SELECT p.product_id FROM products p LEFT JOIN defects d ON p.product_id = d.product_id WHERE d.defect_id IS NULL;"
"25","List products along with number of defects and total repair cost","SELECT p.product_id, COUNT(d.defect_id) AS defect_count, SUM(d.repair_cost) AS total_cost FROM products p LEFT JOIN defects d ON p.product_id = d.product_id GROUP BY p.product_id;"
"26","Find most common defect type","SELECT defect_type, COUNT(*) AS cnt FROM defects GROUP BY defect_type ORDER BY cnt DESC LIMIT 1;"
"27","Get total repair cost for each inspection method","SELECT inspection_method, SUM(repair_cost) FROM defects GROUP BY inspection_method;"
"28","Find defects reported in 2023","SELECT * FROM defects WHERE defect_date BETWEEN '2023-01-01' AND '2023-12-31';"
"29","Show average repair cost per defect location","SELECT defect_location, AVG(repair_cost) FROM defects GROUP BY defect_location;"
"30","Find products inspected with method 'Ultrasound'","SELECT DISTINCT product_id FROM defects WHERE inspection_method = 'Ultrasound';"
